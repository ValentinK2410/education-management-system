# Добавление прав работы с пользователями

## Описание

Добавлены три новых права для работы с пользователями:
- **view_users** - Просматривать пользователей
- **edit_users** - Редактировать пользователей  
- **delete_users** - Удалять пользователей

## Использование

### Автоматическое добавление через сидер

Для добавления новых прав в существующую базу данных выполните:

```bash
php artisan db:seed --class=AddUserPermissionsSeeder
```

Или если нужно пересоздать все данные:

```bash
php artisan migrate:fresh --seed
```

### Ручное добавление через админ панель

1. Перейдите в раздел "Роли" в админ панели
2. Выберите роль, которой нужно назначить права
3. Отметьте нужные права:
   - Просматривать пользователей
   - Редактировать пользователей
   - Удалять пользователей
4. Сохраните изменения

## Проверка прав в коде

Для проверки прав в контроллерах используйте:

```php
// Проверка права на просмотр пользователей
if (auth()->user()->hasPermission('view_users')) {
    // Разрешено просматривать пользователей
}

// Проверка права на редактирование пользователей
if (auth()->user()->hasPermission('edit_users')) {
    // Разрешено редактировать пользователей
}

// Проверка права на удаление пользователей
if (auth()->user()->hasPermission('delete_users')) {
    // Разрешено удалять пользователей
}
```

## Назначение прав ролям

По умолчанию все новые права автоматически назначаются роли **Администратор**.

Для назначения прав другим ролям:
1. Используйте админ панель (раздел "Роли")
2. Или выполните в коде:

```php
use App\Models\Role;
use App\Models\Permission;

$role = Role::where('slug', 'instructor')->first();
$permissions = Permission::whereIn('slug', ['view_users', 'edit_users'])->pluck('id');
$role->permissions()->sync($permissions);
```
