# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç SSO –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ Moodle

## –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Laravel App   ‚îÇ         ‚îÇ  Moodle Script   ‚îÇ         ‚îÇ   Moodle Site   ‚îÇ
‚îÇ (dean.russians  ‚îÇ         ‚îÇ (moodle-sso-from ‚îÇ         ‚îÇ (class.russian  ‚îÇ
‚îÇ  eminary.org)   ‚îÇ         ‚îÇ  -laravel.php)   ‚îÇ         ‚îÇ  seminary.org)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                           ‚îÇ                            ‚îÇ
         ‚îÇ 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç ‚îÇ                            ‚îÇ
         ‚îÇ    –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–π—Ç–∏ –≤     ‚îÇ                            ‚îÇ
         ‚îÇ    –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å"    ‚îÇ                            ‚îÇ
         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ                            ‚îÇ
         ‚îÇ                           ‚îÇ                            ‚îÇ
         ‚îÇ 2. Laravel –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç    ‚îÇ                            ‚îÇ
         ‚îÇ    —Ç–æ–∫–µ–Ω SSO –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç ‚îÇ                            ‚îÇ
         ‚îÇ    URL —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏     ‚îÇ                            ‚îÇ
         ‚îÇ                           ‚îÇ                            ‚îÇ
         ‚îÇ 3. –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Moodle    ‚îÇ                            ‚îÇ
         ‚îÇ    —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:         ‚îÇ                            ‚îÇ
         ‚îÇ    - token (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)  ‚îÇ                            ‚îÇ
         ‚îÇ    - email                ‚îÇ                            ‚îÇ
         ‚îÇ    - moodle_user_id       ‚îÇ                            ‚îÇ
         ‚îÇ    - redirect             ‚îÇ                            ‚îÇ
         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ                            ‚îÇ
         ‚îÇ                           ‚îÇ                            ‚îÇ
         ‚îÇ                           ‚îÇ 4. –°–∫—Ä–∏–ø—Ç –ø–æ–ª—É—á–∞–µ—Ç        ‚îÇ
         ‚îÇ                           ‚îÇ    –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç  ‚îÇ
         ‚îÇ                           ‚îÇ    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î      ‚îÇ
         ‚îÇ                           ‚îÇ                            ‚îÇ
         ‚îÇ                           ‚îÇ 5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏          ‚îÇ
         ‚îÇ                           ‚îÇ    –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è‚îÇ
         ‚îÇ                           ‚îÇ    –≤ Moodle               ‚îÇ
         ‚îÇ                           ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
         ‚îÇ                           ‚îÇ                            ‚îÇ
         ‚îÇ                           ‚îÇ 6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç  ‚îÇ
         ‚îÇ                           ‚îÇ    –≤ Moodle —É–∂–µ           ‚îÇ
         ‚îÇ                           ‚îÇ    –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º         ‚îÇ
         ‚îÇ                           ‚îÇ                            ‚îÇ
```

## –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞

### –®–∞–≥ 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É –≤ header

**–ì–¥–µ:** –í –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, —Å–ø—Ä–∞–≤–∞ –≤ header (—Ä—è–¥–æ–º —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º —è–∑—ã–∫–∞)

**–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚ò∞] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏                    [üåê RU] [üë§] [üåô] [üéì] ‚îÇ
‚îÇ      sashaspichak                                           ‚îÇ
‚îÇ      –í–∞—à–∞ —Ä–æ–ª—å: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä               ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ      [üéì –ü–µ—Ä–µ–π—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å]  ‚Üê –≠–¢–ê –ö–ù–û–ü–ö–ê        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–Ω–æ–ø–∫–∏:**
- –¢–µ–∫—Å—Ç: "–ü–µ—Ä–µ–π—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å" (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
- –ò–∫–æ–Ω–∫–∞: `fa-graduation-cap` (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
- –¶–≤–µ—Ç: `#667eea` (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
- URL: URL Moodle –∏–ª–∏ –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å)

### –®–∞–≥ 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GET –∑–∞–ø—Ä–æ—Å –Ω–∞: `https://dean.russianseminary.org/moodle/sso/redirect?redirect=https://class.russianseminary.org`
2. Laravel –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. Laravel –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `moodle_user_id` —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ï—Å–ª–∏ `moodle_user_id` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, Laravel –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Moodle –ø–æ email
5. Laravel –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω SSO
6. Laravel —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç URL –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ Moodle

**–ü—Ä–∏–º–µ—Ä URL, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è:**
```
https://class.russianseminary.org/moodle-sso-from-laravel.php?
  token=eyJpdiI6Ik...&
  email=sashaspichak%40example.com&
  moodle_user_id=123&
  redirect=https%3A%2F%2Fclass.russianseminary.org%2F
```

### –®–∞–≥ 3: –ë—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ Moodle

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ë—Ä–∞—É–∑–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç HTTP 302 —Ä–µ–¥–∏—Ä–µ–∫—Ç –æ—Ç Laravel
2. –ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ URL Moodle —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
3. Moodle —Å–∫—Ä–∏–ø—Ç `moodle-sso-from-laravel.php` –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

### –®–∞–≥ 4: –°–∫—Ä–∏–ø—Ç Moodle –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–∫—Ä–∏–ø—Ç–µ:**
1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è `config.php` Moodle (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ Moodle)
2. –ü–æ–ª—É—á–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL:
   - `token` - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –æ—Ç Laravel
   - `email` - email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `moodle_user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Moodle
   - `redirect` - –∫—É–¥–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Moodle –ø–æ `moodle_user_id`
5. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ email
6. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–¥–∞–ª–µ–Ω –∏ –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

### –®–∞–≥ 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Moodle

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `complete_user_login($user)` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è Moodle
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Moodle
3. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –≤ Moodle

### –®–∞–≥ 6: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ URL –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `redirect`
2. –ï—Å–ª–∏ `redirect` –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É Moodle (`/`)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç Moodle —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–≤–æ–¥–∏—Ç—å –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –î–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚ò∞] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏                    [üåê RU] [üë§] [üåô] [üéì] ‚îÇ
‚îÇ      sashaspichak                                           ‚îÇ
‚îÇ      –í–∞—à–∞ —Ä–æ–ª—å: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ (–ø—Ä–æ—Ü–µ—Å—Å):
```
1. –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞
   ‚Üì
2. –ö—Ä–∞—Ç–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–º–µ–Ω–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã)
   ‚Üì
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Moodle
   ‚Üì
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ Moodle
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Moodle - –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–æ–≥–æ—Å–ª–æ–≤—Å–∫–∞—è —Å–µ–º–∏–Ω–∞—Ä–∏—è                   ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, sashaspichak!  ‚Üê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ          ‚îÇ
‚îÇ                                    –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω               ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ [–ú–æ–∏ –∫—É—Ä—Å—ã] [–ö–∞–ª–µ–Ω–¥–∞—Ä—å] [–°–æ–æ–±—â–µ–Ω–∏—è] ...                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏

### –ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å:
**–ü—É—Ç—å:** `/admin/settings` ‚Üí –†–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–µ–Ω–¥–∏–Ω–≥–∞"

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞**
   - –ß–µ–∫–±–æ–∫—Å: –í–∫–ª—é—á–µ–Ω–æ/–í—ã–∫–ª—é—á–µ–Ω–æ
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –í–∫–ª—é—á–µ–Ω–æ

2. **–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞**
   - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "–ü–µ—Ä–µ–π—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å"
   - –ü—Ä–∏–º–µ—Ä—ã: "–í–æ–π—Ç–∏ –≤ Moodle", "–û—Ç–∫—Ä—ã—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å"

3. **–ò–∫–æ–Ω–∫–∞ –∫–Ω–æ–ø–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞**
   - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (–∫–ª–∞—Å—Å Font Awesome)
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `fa-graduation-cap`
   - –ü—Ä–∏–º–µ—Ä—ã: `fa-chalkboard-teacher`, `fa-laptop`, `fa-graduation-cap`

4. **–¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞**
   - Color picker + —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (HEX)
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `#667eea`
   - –ü—Ä–∏–º–µ—Ä—ã: `#007bff` (—Å–∏–Ω–∏–π), `#28a745` (–∑–µ–ª–µ–Ω—ã–π), `#dc3545` (–∫—Ä–∞—Å–Ω—ã–π)

5. **–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å**
   - URL –ø–æ–ª–µ
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –ø—É—Å—Ç–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è URL Moodle –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫)
   - –ü—Ä–∏–º–µ—Ä—ã: `https://class.russianseminary.org`, `https://class.russianseminary.org/my/`

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ Laravel:
1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
2. ‚úÖ –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `moodle_user_id` (–∏–ª–∏ email –¥–ª—è –ø–æ–∏—Å–∫–∞)
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω `MOODLE_URL` –≤ `.env`
4. ‚úÖ –ö–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ Moodle:
1. ‚úÖ –§–∞–π–ª `moodle-sso-from-laravel.php` —Ä–∞–∑–º–µ—â–µ–Ω –≤ –∫–æ—Ä–Ω–µ Moodle
2. ‚úÖ –§–∞–π–ª –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (644)
3. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Moodle —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º `moodle_user_id` –∏ `email`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–¢–æ–∫–µ–Ω—ã SSO:**
   - –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã —Ç–æ–ª—å–∫–æ 5 –º–∏–Ω—É—Ç
   - –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Laravel Crypt (AES-256-CBC)
   - –°–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è

2. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ Moodle:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è email
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ —É–¥–∞–ª–µ–Ω, –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏
   - –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —á–µ—Ä–µ–∑ –ª–æ–≥–∏

## –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `/admin/settings`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Laravel: `storage/logs/laravel.log`

### –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Laravel (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `sso_url` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Moodle (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ –æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `redirect()->away()` –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö URL

### –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Moodle
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `moodle_user_id` —Å–æ–≤–ø–∞–¥–∞–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ email —Å–æ–≤–ø–∞–¥–∞–µ—Ç
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Moodle –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ Laravel
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–π—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å"
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Moodle –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º
4. –í–∏–¥–∏—Ç —Å–≤–æ–∏ –∫—É—Ä—Å—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –ü—Ä–∏–º–µ—Ä 2: –° —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É–∫–∞–∑–∞–Ω URL: `https://class.russianseminary.org/my/`
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
3. –ü–æ–ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ú–æ–∏ –∫—É—Ä—Å—ã" –≤ Moodle

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ moodle_user_id
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ Laravel, –Ω–æ –Ω–µ—Ç `moodle_user_id`
2. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ Laravel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Moodle –ø–æ email
3. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `moodle_user_id` –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å
4. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
